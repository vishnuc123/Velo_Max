<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Account - Veloretti</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/apexcharts"
      type="module"
    ></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script defer src="/User/js/wallet.js"></script>
    <style>
      .hidden{
        display: none;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .animate-fade-in {
        animation: fadeIn 0.5s ease-out forwards;
      }
    </style>
  </head>
  <body class="bg-gray-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-sm animate-fade-in">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <div class="flex items-center space-x-8">
            <a
              href="/"
              class="text-xl font-semibold tracking-wider animate-slide-in"
              >VELO MaX</a
            >
            <nav class="hidden md:flex space-x-8">
              <a
                href="/account"
                class="text-gray-900 border-b-2 border-gray-900"
                >Profile</a
              >
              <a
                href="/address"
                class="text-gray-600 hover:text-gray-900 transition-colors duration-200"
                >Address</a
              >
              <a
                href="/orders"
                class="text-gray-600 hover:text-gray-900 transition-colors duration-200"
                >Orders</a
              >
              <a
                href="/wallet"
                class="text-gray-600 hover:text-gray-900 transition-colors duration-200"
                >Wallet</a
              >
            </nav>
          </div>

          <div class="flex items-center space-x-4">
            <!-- Notification Icon with Badge -->
            <div class="relative">
              <button
                id="notificationButton"
                class="p-3 rounded-full hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 relative"
                aria-label="Notifications"
              >
                <i
                  class="fas fa-bell text-gray-700 hover:text-blue-600 transition-colors duration-200 text-xl"
                ></i>
                <!-- Badge for new notifications -->
                <span
                  id="notificationCount"
                  class="absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-600 rounded-full transform scale-90 transition-transform duration-200 ease-out hidden"
                  >new</span
                >
              </button>
              <!-- Notification Dropdown -->
              <div
                id="notificationDropdown"
                class="hidden absolute right-0 mt-2 w-64 bg-white shadow-xl rounded-lg overflow-hidden border border-gray-200"
              >
                <div class="bg-gray-50 px-4 py-2 border-b border-gray-200">
                  <h4 class="text-gray-800 font-semibold">Notifications</h4>
                </div>
                <ul
                  id="notificationList"
                  class="divide-y divide-gray-200 max-h-64 overflow-y-auto"
                >
                  <!-- Notifications will be injected here -->
                  <li class="text-gray-600 px-4 py-3 text-sm">
                    No new notifications
                  </li>
                </ul>
              </div>
            </div>

            <button
              class="p-2 rounded-full hover:bg-gray-100 transition-colors duration-200"
              aria-label="User Profile"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                />
              </svg>
            </button>
            <a
              href="/dashboard/products"
              class="bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition-colors duration-200"
            >
              Go to store
            </a>
          </div>
        </div>
      </div>
    </header>

    <!-- Wallet Section -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <!-- Unlock Wallet Button -->
      <div class="min-h-screen bg-gradient-to-br from-black to-gray-800 p-8" id="adv-container">
        <!-- Main Container -->
        <div class="max-w-7xl mx-auto grid lg:grid-cols-2 gap-8 items-center">
          
          <!-- Left Side - Features Grid -->
          <div class="grid grid-cols-2 gap-4">
            <!-- Bank Account Card -->
            <div class="bg-gradient-to-br from-black/60 to-gray-700 p-6 rounded-3xl backdrop-blur-sm">
              <div class="flex items-start gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
                <div>
                  <h3 class="text-white font-semibold text-lg">Bank Account</h3>
                  <p class="text-gray-300 text-sm mt-1">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </div>
              </div>
            </div>
      
            <!-- Easy Payment Card -->
            <div class="bg-gradient-to-br from-gray-700 to-black/60 p-6 rounded-3xl backdrop-blur-sm">
              <div class="flex items-start gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                </svg>
                <div>
                  <h3 class="text-white font-semibold text-lg">Easy Payment</h3>
                  <p class="text-gray-300 text-sm mt-1">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </div>
              </div>
            </div>
      
            <!-- Investments Card -->
            <div class="bg-gradient-to-br from-gray-600 to-black/60 p-6 rounded-3xl backdrop-blur-sm">
              <div class="flex items-start gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <div>
                  <h3 class="text-white font-semibold text-lg">Investments</h3>
                  <p class="text-gray-300 text-sm mt-1">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </div>
              </div>
            </div>
      
            <!-- Funds Transfer Card -->
            <div class="bg-gradient-to-br from-black/60 to-gray-700 p-6 rounded-3xl backdrop-blur-sm">
              <div class="flex items-start gap-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
                </svg>
                <div>
                  <h3 class="text-white font-semibold text-lg">Funds Transfer</h3>
                  <p class="text-gray-300 text-sm mt-1">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </div>
              </div>
            </div>
          </div>
      
          <!-- Right Side - Content -->
          <div class="text-white lg:pl-12">
            <h1 class="text-5xl font-bold mb-6">
              Your Money, Your Way,
              <span class="bg-gradient-to-r from-gray-400 to-gray-200 bg-clip-text text-transparent">Our Guarantee</span>
            </h1>
            <p class="text-gray-300 mb-8 text-lg">
              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut elit tellus, luctus nec ullamcorper mattis, pulvinar dapibus leo. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut elit tellus, luctus nec.
            </p>
           
            <button
              id="unlock-wallet-button"
              class="bg-gradient-to-r from-gray-700 to-black text-white font-semibold px-8 py-3 rounded-full hover:shadow-lg hover:shadow-gray-500/30 transition-all duration-300"
            >
              <span class="flex items-center">
                <svg
                  class="w-5 h-5 mr-2"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
                  ></path>
                </svg>
                Unlock Your Wallet
              </span>
            </button>
          </div>
          
        </div>
  
      
</div>
<div id="transactionReadyMessage" class="hidden mt-4 text-center text-green-500 text-lg">
  <p>Your wallet is now ready to make transactions!</p>
</div>


      <!-- Existing Wallet Content (Initially Hidden) -->
      <div id="wallet-content" class="hidden">
        <div class="bg-white rounded-lg shadow-sm p-6 mb-8 animate-fade-in">
          <h2 class="text-xl font-semibold mb-4">Wallet</h2>
          <div
            class="bg-gradient-to-r from-gray-700 to-gray-900 rounded-lg p-6 text-white mb-4"
          >
            <div class="flex justify-between items-center mb-4">
              <span class="text-sm">Current Balance</span>
              <span class="text-2xl font-bold">₹0</span>
            </div>
            <div class="flex space-x-4">
              <button
                class="bg-white text-red-500 px-4 py-2 rounded hover:bg-gray-100 transition-colors duration-200"
                id="addMoney"
              >
                Add Money
              </button>
              <button
                class="bg-white text-red-500 px-4 py-2 rounded hover:bg-gray-100 transition-colors duration-200"
              >
                Withdraw
              </button>
            </div>
          </div>

          <!-- Show message if balance is 0 -->
          <div
            id="balanceMessage"
            class="mt-4 text-center text-gray-600 text-sm"
          >
            <p>Please add money to purchase products.</p>
          </div>
        </div>
        <!-- Transaction History -->
        <div class="mt-8">
          <h3 class="text-lg font-semibold mb-4">Transaction History</h3>
          <div class="overflow-x-auto">
            <table class="min-w-full bg-white rounded-lg shadow-sm">
              <thead>
                <tr class="bg-gray-200 text-gray-600 text-sm leading-normal">
                  <th class="py-3 px-6 text-left">Date</th>
                  <th class="py-3 px-6 text-left">Description</th>
                  <th class="py-3 px-6 text-right">Amount</th>
                  <th class="py-3 px-6 text-right">Balance</th>
                </tr>
              </thead>
              <tbody class="text-gray-700 text-sm">
                <tr class="border-b border-gray-200 hover:bg-gray-100">
                  <td class="py-3 px-6">2024-11-20</td>
                  <td class="py-3 px-6">Money added</td>
                  <td class="py-3 px-6 text-right text-green-500">+₹500.00</td>
                  <td class="py-3 px-6 text-right">₹1,250.00</td>
                </tr>
                <tr class="border-b border-gray-200 hover:bg-gray-100">
                  <td class="py-3 px-6">2024-11-15</td>
                  <td class="py-3 px-6">Order Payment</td>
                  <td class="py-3 px-6 text-right text-red-500">-₹100.00</td>
                  <td class="py-3 px-6 text-right">₹750.00</td>
                </tr>
                <tr class="border-b border-gray-200 hover:bg-gray-100">
                  <td class="py-3 px-6">2024-11-10</td>
                  <td class="py-3 px-6">Refund</td>
                  <td class="py-3 px-6 text-right text-green-500">+₹50.00</td>
                  <td class="py-3 px-6 text-right">₹850.00</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    const notificationButton = document.getElementById("notificationButton");
    const notificationDropdown = document.getElementById(
      "notificationDropdown"
    );
    const notificationCount = document.getElementById("notificationCount");
    const notificationList = document.getElementById("notificationList");

    // Toggle dropdown visibility and hide badge when opened
    notificationButton.addEventListener("click", () => {
      notificationDropdown.classList.toggle("hidden");

      // Hide the badge when dropdown is opened
      if (!notificationDropdown.classList.contains("hidden")) {
        notificationCount.classList.add("hidden");
      }
    });

    // Close dropdown when clicking outside
    document.addEventListener("click", (event) => {
      if (
        !notificationButton.contains(event.target) &&
        !notificationDropdown.contains(event.target)
      ) {
        notificationDropdown.classList.add("hidden");
      }
    });

    // Example: Add a new notification
    function addNotification(message) {
      const li = document.createElement("li");
      li.className = "px-4 py-3 text-sm text-gray-700 hover:bg-gray-100";
      li.textContent = message;
      notificationList.insertBefore(li, notificationList.firstChild);

      if (notificationList.children[0].textContent === "No new notifications") {
        notificationList.removeChild(notificationList.children[0]);
      }

      updateNotificationBadge();
    }

    // Update notification badge visibility
    function updateNotificationBadge() {
      const count = notificationList.children.length;

      // Show the badge only if there are notifications and the dropdown is closed
      if (count > 0 && notificationDropdown.classList.contains("hidden")) {
        notificationCount.classList.remove("hidden");
      } else {
        notificationCount.classList.add("hidden");
      }
    }

    // Example usage
    setTimeout(() => addNotification("New message received!"), 2000);
    setTimeout(() => addNotification("Your order has been shipped!"), 4000);
  </script>
</html>
